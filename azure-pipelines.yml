pr: none
trigger: none

jobs:
  - template: CI/job-doxygen.yml

  - job: Linux
    pool:
      vmImage: 'ubuntu-latest'

    strategy:
      matrix:
        ubuntu2004:
          image: symless/synergy-core:ubuntu20.04
          packager: deb
          name: ubuntu20
        ubuntu2104:
          image: symless/synergy-core:ubuntu21.04
          packager: deb
          name: ubuntu21
        fedora34:
          image: symless/synergy-core:fedora34
          packager: rpm
          name: fedora34
        centos7.6:
          image: symless/synergy-core:centos7.6
          packager: rpm
          name: centos76
        centos8:
          image: symless/synergy-core:centos8
          packager: rpm
          name: centos8

    container: $[ variables['image'] ]

    steps:
      - template: CI/checkout.yml
      - template: CI/Linux/linux-build.yml